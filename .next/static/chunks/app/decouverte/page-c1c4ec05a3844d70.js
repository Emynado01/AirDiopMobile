(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{9622:function(e,t,a){Promise.resolve().then(a.bind(a,8988))},6346:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("CloudDownload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]])},8293:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7226:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},5929:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8988:function(e,t,a){"use strict";a.d(t,{default:function(){return l}});var r=a(7437),s=a(6561);let n=[{name:"Bali",image:"/img/Bali.jpg",legend:"Plages de r\xeave \xe0 Bali"},{name:"New York",image:"/img/NewYork.jpeg",legend:"Les lumi\xe8res de New York"},{name:"Le Cap",image:"/img/Capetown.jpg",legend:"Falaises et oc\xe9an au Cap"},{name:"Tokyo",image:"/img/Tokyo.jpg",legend:"Futurisme et tradition \xe0 Tokyo"}];function l(){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[(0,r.jsx)(s.Header,{}),(0,r.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-sky-500 dark:text-yellow-300 mb-10 text-center drop-shadow",children:"D\xe9couvrez des destinations de r\xeave"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map(e=>(0,r.jsxs)("div",{className:"relative rounded-3xl overflow-hidden shadow-lg group hover:scale-105 transition-transform duration-300",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-72 object-cover object-center brightness-90 group-hover:brightness-100"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white drop-shadow",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-sky-100",children:e.legend})]})]},e.name))})]})]})}},6561:function(e,t,a){"use strict";a.d(t,{Header:function(){return m}});var r=a(7437),s=a(2265),n=a(2369),l=a(5929),o=a(7226),i=a(8293),d=a(7648),c=a(6012),x=a(6346);function h(){let[e,t]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=e=>{e.preventDefault(),t(e)};return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)},[]),!e)return null;let a=async()=>{e.prompt();let{outcome:a}=await e.userChoice;"accepted"===a&&t(null)};return(0,r.jsxs)("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg transition-colors",title:"Installer l'application",children:[(0,r.jsx)(x.Z,{className:"w-5 h-5"}),"+      ",(0,r.jsx)("span",{children:"Installer"}),"+    "]})}let m=()=>{let{connected:e,user:t}=function(){let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{fetch("/api/user-status",{credentials:"include"}).then(async e=>{if(!e.ok)throw Error("Not authenticated");let a=await e.json();t(a.connected),r(a.user||null)}).catch(()=>{t(!1),r(null)})},[]),{connected:e,user:a}}(),[a,x]=(0,s.useState)(!1),{dark:m,toggleDark:u}=(0,s.useContext)(c.v),g=async()=>{await fetch("/api/logout",{method:"POST"}),window.location.href="/connexion"};return(0,r.jsxs)("header",{className:"bg-white dark:bg-gray-950 shadow-sm border-b border-gray-200 dark:border-gray-800 transition-colors",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-sky-500 rounded-lg",children:(0,r.jsx)("img",{src:"/img/logoJet.png",alt:"Logo AirDiop",className:"w-8 h-8 object-contain"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-yellow-100",children:"AirDiop"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(d.default,{href:"/",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"Vols"}),(0,r.jsx)(d.default,{href:"/tableau",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"Tableau de bord"}),(0,r.jsx)(d.default,{href:"/about",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"\xc0 propos"}),(0,r.jsx)(d.default,{href:"/decouverte",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"D\xe9couverte"}),e&&(null==t?void 0:t.isAdmin)&&(0,r.jsx)(d.default,{href:"/admin",className:"text-red-500 hover:text-red-600",children:"Admin"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[e?(0,r.jsxs)("button",{onClick:g,className:"hidden md:flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:[(0,r.jsx)(n.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"D\xe9connexion"})]}):(0,r.jsxs)(d.default,{href:"/connexion",className:"hidden md:flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:[(0,r.jsx)(n.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Connexion"})]}),(0,r.jsx)(h,{}),(0,r.jsx)("button",{onClick:u,className:"p-2 rounded-full transition bg-gray-200 dark:bg-gray-700",title:"Changer le mode d'affichage",children:m?(0,r.jsx)(l.Z,{className:"w-5 h-5 text-yellow-400"}):(0,r.jsx)(o.Z,{className:"w-5 h-5 text-gray-700"})}),(0,r.jsx)("button",{className:"md:hidden p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",onClick:()=>x(e=>!e),"aria-label":"Ouvrir le menu",children:(0,r.jsx)(i.Z,{className:"w-5 h-5"})})]})]})}),a&&(0,r.jsxs)("nav",{className:"md:hidden flex flex-col bg-white dark:bg-gray-950 px-4 py-2 rounded shadow space-y-2 mt-2",children:[(0,r.jsx)(d.default,{href:"/",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>x(!1),children:"Vols"}),(0,r.jsx)(d.default,{href:"/tableau",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>x(!1),children:"Tableau de bord"}),(0,r.jsx)(d.default,{href:"/about",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>x(!1),children:"\xc0 propos"}),(0,r.jsx)(d.default,{href:"/decouverte",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>x(!1),children:"D\xe9couverte"}),e&&(null==t?void 0:t.isAdmin)&&(0,r.jsx)(d.default,{href:"/admin",className:"text-red-500 hover:text-red-600",children:"Admin"}),!e&&(0,r.jsxs)(d.default,{href:"/connexion",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",onClick:()=>x(!1),children:[(0,r.jsx)(n.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Connexion"})]}),e&&(0,r.jsxs)("button",{onClick:()=>{x(!1),g()},className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:[(0,r.jsx)(n.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"D\xe9connexion"})]}),(0,r.jsx)(h,{}),(0,r.jsxs)("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",title:"Changer le mode d'affichage",children:[m?(0,r.jsx)(l.Z,{className:"w-5 h-5 text-yellow-400"}):(0,r.jsx)(o.Z,{className:"w-5 h-5 text-gray-700"}),(0,r.jsxs)("span",{children:["Mode ",m?"Clair":"Sombre"]})]})]})]})}},6012:function(e,t,a){"use strict";a.d(t,{W:function(){return l},v:function(){return n}});var r=a(7437),s=a(2265);let n=(0,s.createContext)({dark:!1,toggleDark:()=>{}});function l(e){let{children:t}=e,[a,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{l("dark"===localStorage.getItem("theme"))},[]),(0,s.useEffect)(()=>{a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[a]),(0,r.jsx)(n.Provider,{value:{dark:a,toggleDark:()=>l(e=>!e)},children:t})}}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=9622)}),_N_E=e.O()}]);