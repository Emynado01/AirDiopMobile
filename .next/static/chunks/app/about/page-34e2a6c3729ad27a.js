(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301,917],{2782:function(e,t,r){Promise.resolve().then(r.bind(r,6561))},6346:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("CloudDownload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]])},8293:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7226:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},5929:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6561:function(e,t,r){"use strict";r.d(t,{Header:function(){return u}});var a=r(7437),s=r(2265),n=r(2369),l=r(5929),o=r(7226),c=r(8293),i=r(7648),d=r(6012),x=r(6346);function h(){let[e,t]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=e=>{e.preventDefault(),t(e)};return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)},[]),!e)return null;let r=async()=>{e.prompt();let{outcome:r}=await e.userChoice;"accepted"===r&&t(null)};return(0,a.jsxs)("button",{onClick:r,className:"flex items-center space-x-2 px-3 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg transition-colors",title:"Installer l'application",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5"}),"+      ",(0,a.jsx)("span",{children:"Installer"}),"+    "]})}let u=()=>{let{connected:e}=function(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{fetch("/api/user-status",{credentials:"include"}).then(e=>e.ok).then(t).catch(()=>t(!1))},[]),{connected:e}}(),[t,r]=(0,s.useState)(!1),{dark:x,toggleDark:u}=(0,s.useContext)(d.v),m=async()=>{await fetch("/api/logout",{method:"POST"}),window.location.href="/connexion"};return(0,a.jsxs)("header",{className:"bg-white dark:bg-gray-950 shadow-sm border-b border-gray-200 dark:border-gray-800 transition-colors",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-sky-500 rounded-lg",children:(0,a.jsx)("img",{src:"/img/logoJet.png",alt:"Logo AirDiop",className:"w-8 h-8 object-contain"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-yellow-100",children:"AirDiop"})]}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsx)(i.default,{href:"/",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"Vols"}),(0,a.jsx)(i.default,{href:"/tableau",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"Tableau de bord"}),(0,a.jsx)(i.default,{href:"/about",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"\xc0 propos"}),(0,a.jsx)(i.default,{href:"/decouverte",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"D\xe9couverte"}),(0,a.jsx)(i.default,{href:"/admin",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",children:"Admin"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e?(0,a.jsxs)("button",{onClick:m,className:"hidden md:flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"D\xe9connexion"})]}):(0,a.jsxs)(i.default,{href:"/connexion",className:"hidden md:flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Connexion"})]}),(0,a.jsx)(h,{}),(0,a.jsx)("button",{onClick:u,className:"p-2 rounded-full transition bg-gray-200 dark:bg-gray-700",title:"Changer le mode d'affichage",children:x?(0,a.jsx)(l.Z,{className:"w-5 h-5 text-yellow-400"}):(0,a.jsx)(o.Z,{className:"w-5 h-5 text-gray-700"})}),(0,a.jsx)("button",{className:"md:hidden p-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg",onClick:()=>r(e=>!e),"aria-label":"Ouvrir le menu",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})})]})]})}),t&&(0,a.jsxs)("nav",{className:"md:hidden flex flex-col bg-white dark:bg-gray-950 px-4 py-2 rounded shadow space-y-2 mt-2",children:[(0,a.jsx)(i.default,{href:"/",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>r(!1),children:"Vols"}),(0,a.jsx)(i.default,{href:"/tableau",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>r(!1),children:"Tableau de bord"}),(0,a.jsx)(i.default,{href:"/about",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>r(!1),children:"\xc0 propos"}),(0,a.jsx)(i.default,{href:"/decouverte",className:"text-gray-700 dark:text-gray-200 hover:text-sky-500 font-medium transition-colors",onClick:()=>r(!1),children:"D\xe9couverte"}),!e&&(0,a.jsxs)(i.default,{href:"/connexion",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",onClick:()=>r(!1),children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Connexion"})]}),e&&(0,a.jsxs)("button",{onClick:()=>{r(!1),m()},className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"D\xe9connexion"})]}),(0,a.jsx)(h,{}),(0,a.jsxs)("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-900 rounded-lg transition-colors",title:"Changer le mode d'affichage",children:[x?(0,a.jsx)(l.Z,{className:"w-5 h-5 text-yellow-400"}):(0,a.jsx)(o.Z,{className:"w-5 h-5 text-gray-700"}),(0,a.jsxs)("span",{children:["Mode ",x?"Clair":"Sombre"]})]})]})]})}},6012:function(e,t,r){"use strict";r.d(t,{W:function(){return l},v:function(){return n}});var a=r(7437),s=r(2265);let n=(0,s.createContext)({dark:!1,toggleDark:()=>{}});function l(e){let{children:t}=e,[r,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{l("dark"===localStorage.getItem("theme"))},[]),(0,s.useEffect)(()=>{r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]),(0,a.jsx)(n.Provider,{value:{dark:r,toggleDark:()=>l(e=>!e)},children:t})}}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=2782)}),_N_E=e.O()}]);